<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.moffice.WorkTrip.Dao.WorkTripDao">

  <resultMap type="com.example.moffice.WorkTrip.Vo.WorkTrip" id="workTripMap">
    <id column="no" property="no"/>
    <result column="worktype" property="workType"/>
    <result column="startdate" property="startDate"/>
    <result column="enddate" property="endDate"/>
    <result column="reason" property="reason"/>
    <result column="confirm" property="confirm"/>
    <result column="workerNo" property="workerNo"/>
    <result column="part" property="part"/>
    <result column="name" property="name"/>
    <result column="position" property="position"/>
    <result column="enrolldate" property="enrollDate"/>
  </resultMap>
  
   <insert id="insert" parameterType="com.example.moffice.WorkTrip.Vo.WorkTrip">
    insert into test_schema.workTrip
	(worktype, startdate, enddate, reason, confirm, workerNo, part, name, position, enrolldate)
    values(#{workType}, #{startDate}, #{endDate}, #{reason}, false, #{workerNo}, #{part}, #{name}, #{position}, now()::date); 
  </insert>

 <select id="getList" parameterType="map" resultMap="workTripMap">
    select *
    from test_schema.workTrip
    where startdate <![CDATA[>]]> #{startDate} and enddate <![CDATA[<]]> #{endDate};
  </select>

  <delete id="delete" parameterType="int">
	  delete
	  from test_schema.workTrip
	  where no = #{no};
  </delete>
    <!--
  <update id="update" parameterType="com.example.WorkTrip.Vo.WorkTrip">
	  update WorkTrip set
	  name = #{name}, phone = #{phone}, email = #{email}
	  where no = #{no};
  </update> -->
</mapper>


